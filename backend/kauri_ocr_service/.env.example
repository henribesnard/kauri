# Application
APP_NAME=KAURI OCR Service
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO

# API
API_V1_PREFIX=/api/v1
HOST=0.0.0.0
PORT=8003

# Database
DATABASE_URL=postgresql+asyncpg://kauri_user:kauri_password@localhost:5432/kauri_ocr
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=False

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=2
REDIS_PASSWORD=
REDIS_CACHE_TTL=604800  # 7 days in seconds
REDIS_STATS_TTL=3600    # 1 hour

# RabbitMQ
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=kauri
RABBITMQ_PASSWORD=kauri_password
RABBITMQ_VHOST=/kauri
OCR_QUEUE_NAME=ocr_processing
OCR_PRIORITY_QUEUE=ocr_priority
OCR_RESULTS_QUEUE=ocr_results

# MinIO/S3 Storage
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=kauri-ocr
MINIO_SECURE=False

# OCR Configuration
OCR_DEFAULT_ENGINE=paddleocr
OCR_LANG=fr,en
OCR_USE_ANGLE_CLS=True
OCR_USE_GPU=False
OCR_DET_MODEL_DIR=
OCR_REC_MODEL_DIR=
OCR_CLS_MODEL_DIR=

# OCR Quality Thresholds
OCR_MIN_CONFIDENCE=0.6
OCR_MIN_QUALITY_SCORE=0.7
OCR_REQUIRES_REVIEW_THRESHOLD=0.8

# Worker Configuration
WORKER_CONCURRENCY=4
WORKER_PREFETCH_COUNT=1
WORKER_MAX_RETRIES=3
WORKER_RETRY_DELAY=60  # seconds

# Document Processing
MAX_FILE_SIZE=52428800  # 50MB in bytes
ALLOWED_EXTENSIONS=pdf,png,jpg,jpeg,tiff,bmp
MAX_PAGES_PER_DOCUMENT=100
IMAGE_MAX_DIMENSION=4096

# OHADA Validation
OHADA_COUNTRIES=BJ,BF,CI,GW,ML,NE,SN,TG,CM,CF,TD,CG,GQ,GA
DEFAULT_CURRENCY=XOF
VAT_RATES=0.18,0.19  # Common VAT rates

# Rate Limiting
RATE_LIMIT_PER_TENANT_PER_HOUR=100
RATE_LIMIT_PER_TENANT_PER_DAY=1000

# External Services
DOCUMENT_MANAGEMENT_SERVICE_URL=http://localhost:8001
ACCOUNTING_CORE_SERVICE_URL=http://localhost:8002
NOTIFICATION_SERVICE_URL=http://localhost:8005

# Security
SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Monitoring
PROMETHEUS_PORT=9090
SENTRY_DSN=

# Feature Flags
ENABLE_TABLE_DETECTION=True
ENABLE_SIGNATURE_DETECTION=True
ENABLE_HANDWRITING_DETECTION=False
ENABLE_LAYOUT_ANALYSIS=True
ENABLE_ENTITY_EXTRACTION=True
ENABLE_OHADA_VALIDATION=True

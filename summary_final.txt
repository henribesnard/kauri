â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                   â•‘
â•‘   âœ… KAURI - ARCHITECTURE MICROSERVICES INITIALISÃ‰E              â•‘
â•‘                                                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Date: 2025-11-03
ğŸ“Œ Version: 1.0.0
âœ¨ Statut: PrÃªt pour dÃ©veloppement


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ SERVICES CRÃ‰Ã‰S                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… 1. kauri_user_service (Port 8001)
   â”œâ”€ Authentification JWT
   â”œâ”€ Gestion utilisateurs
   â”œâ”€ Base de donnÃ©es: kauri_users
   â”œâ”€ API: http://localhost:8001/api/v1/docs
   â””â”€ Status: Infrastructure prÃªte, Ã  dÃ©velopper

âœ… 2. kauri_chatbot_service (Port 8002)
   â”œâ”€ Chatbot RAG OHADA
   â”œâ”€ Recherche Hybride (BM25 + Vector + Reranking)
   â”œâ”€ Base de donnÃ©es: kauri_chatbot
   â”œâ”€ API: http://localhost:8002/api/v1/docs
   â””â”€ Status: Infrastructure prÃªte, Ã  dÃ©velopper

âœ… 3. PostgreSQL (Port 5432)
   â”œâ”€ Base: kauri_users
   â”œâ”€ Base: kauri_chatbot
   â””â”€ Auto-initialisation au dÃ©marrage

âœ… 4. Redis (Port 6379)
   â”œâ”€ Cache queries
   â”œâ”€ Cache embeddings
   â””â”€ Sessions

âœ… 5. ChromaDB (Port 8000)
   â””â”€ Vector database (dev)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ FICHIERS CRÃ‰Ã‰S                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“„ Configuration & Infrastructure:
   â”œâ”€ .env                              (Variables globales)
   â”œâ”€ docker-compose.yml                (Orchestration)
   â”œâ”€ Makefile                          (Commandes simplifiÃ©es)
   â”œâ”€ .gitignore                        (Exclusions Git)
   â””â”€ scripts/init-databases.sh         (Init PostgreSQL)

ğŸ“„ Documentation:
   â”œâ”€ README.md                         (Documentation complÃ¨te)
   â”œâ”€ ARCHITECTURE_SUMMARY.md           (RÃ©sumÃ© architecture)
   â”œâ”€ QUICKSTART.md                     (Guide 5 min)
   â”œâ”€ KAUR_chatbot_ARCHITECTURE.md      (Architecture OHADA)
   â”œâ”€ KAURI_Chatbot_Architecture_Ameliorations.md
   â””â”€ KAURI_Chatbot_Diagrammes_Architecture.md

ğŸš€ Scripts:
   â”œâ”€ start.sh                          (DÃ©marrage Linux/Mac)
   â””â”€ start.bat                         (DÃ©marrage Windows)

ğŸ“‚ backend/kauri_user_service/:
   â”œâ”€ .env                              (Config spÃ©cifique)
   â”œâ”€ Dockerfile                        (Multi-stage)
   â”œâ”€ requirements.txt                  (DÃ©pendances Python)
   â””â”€ src/
       â”œâ”€ __init__.py
       â”œâ”€ config.py                     (HÃ©ritage .env)
       â””â”€ api/
           â””â”€ main.py                   (Point d'entrÃ©e FastAPI)

ğŸ“‚ backend/kauri_chatbot_service/:
   â”œâ”€ .env                              (Config spÃ©cifique)
   â”œâ”€ Dockerfile                        (Multi-stage + BGE-M3)
   â”œâ”€ requirements.txt                  (DÃ©pendances Python + ML)
   â””â”€ src/
       â”œâ”€ __init__.py
       â”œâ”€ config.py                     (HÃ©ritage .env)
       â””â”€ api/
           â””â”€ main.py                   (Point d'entrÃ©e FastAPI)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” SYSTÃˆME DE CONFIGURATION (HÃ‰RITAGE)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Niveau 1: .env racine (PartagÃ©)
   â”œâ”€ POSTGRES_USER, POSTGRES_PASSWORD
   â”œâ”€ REDIS_PASSWORD
   â”œâ”€ JWT_SECRET_KEY
   â”œâ”€ OPENAI_API_KEY, DEEPSEEK_API_KEY
   â””â”€ CORS_ORIGINS, LOG_LEVEL
      â”‚
      â–¼ hÃ©rite
      â”‚
Niveau 2: backend/<service>/.env (SpÃ©cifique)
   â”œâ”€ SERVICE_PORT (8001 ou 8002)
   â”œâ”€ DATABASE_URL (construit avec variables racine)
   â”œâ”€ REDIS_PREFIX (user_service ou chatbot_service)
   â””â”€ Variables mÃ©tier spÃ©cifiques
      â”‚
      â–¼ hÃ©rite
      â”‚
Niveau 3: docker-compose.yml (Runtime)
   â””â”€ Surcharge finale si nÃ©cessaire


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ COMMANDES DE DÃ‰MARRAGE                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Windows:
   start.bat

Linux/Mac:
   ./start.sh

Docker Compose:
   docker-compose up -d

Makefile:
   make up


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§ª VÃ‰RIFICATION                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Health Checks:
   curl http://localhost:8001/api/v1/health
   curl http://localhost:8002/api/v1/health
   make health

Status:
   docker-compose ps
   make ps

Logs:
   docker-compose logs -f
   make logs


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š URLS DES SERVICES                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”¹ PostgreSQL:       localhost:5432
ğŸ”¹ Redis:             localhost:6379
ğŸ”¹ ChromaDB:          http://localhost:8000
ğŸ”¹ User Service:      http://localhost:8001
ğŸ”¹ Chatbot Service:   http://localhost:8002

ğŸ“– Documentation API:
ğŸ”¹ User Service:      http://localhost:8001/api/v1/docs
ğŸ”¹ Chatbot Service:   http://localhost:8002/api/v1/docs


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”§ PROCHAINES Ã‰TAPES DE DÃ‰VELOPPEMENT                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Service:
   ğŸš§ models/user.py - ModÃ¨le SQLAlchemy
   ğŸš§ schemas/user.py - SchÃ©mas Pydantic
   ğŸš§ auth/jwt_manager.py - JWT tokens
   ğŸš§ auth/password.py - Hashing bcrypt
   ğŸš§ api/routes/auth.py - Endpoints auth
   ğŸš§ api/routes/users.py - CRUD users

Chatbot Service:
   ğŸš§ rag/embedder.py - BGE-M3 embeddings
   ğŸš§ rag/vector_db.py - ChromaDB client
   ğŸš§ rag/bm25_retriever.py - Keyword search
   ğŸš§ rag/vector_retriever.py - Semantic search
   ğŸš§ rag/reranker.py - Cross-encoder
   ğŸš§ rag/llm_client.py - DeepSeek/OpenAI
   ğŸš§ rag/hybrid_retriever.py - Orchestrateur
   ğŸš§ api/routes/chat.py - Endpoints chatbot

Base de Connaissances:
   ğŸš§ Indexer documents OHADA
   ğŸš§ GÃ©nÃ©rer embeddings BGE-M3
   ğŸš§ Peupler ChromaDB


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… CHECKLIST COMPLÃ‰TÃ‰E                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Infrastructure:
   âœ… Docker Compose configurÃ©
   âœ… PostgreSQL (2 bases)
   âœ… Redis configurÃ©
   âœ… ChromaDB opÃ©rationnel
   âœ… Volumes persistants
   âœ… Health checks

User Service:
   âœ… Dockerfile multi-stage
   âœ… requirements.txt
   âœ… FastAPI main.py
   âœ… Configuration hÃ©ritage
   âœ… Health check endpoint

Chatbot Service:
   âœ… Dockerfile multi-stage
   âœ… requirements.txt (ML)
   âœ… FastAPI main.py
   âœ… Configuration hÃ©ritage
   âœ… Health check endpoint

Documentation:
   âœ… README.md complet
   âœ… ARCHITECTURE_SUMMARY.md
   âœ… QUICKSTART.md
   âœ… Scripts dÃ©marrage
   âœ… .gitignore
   âœ… Makefile


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‰ RÃ‰SULTAT FINAL                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ¨ Architecture microservices complÃ¨te et opÃ©rationnelle
âœ¨ 2 services indÃ©pendants (User + Chatbot)
âœ¨ Infrastructure Docker complÃ¨te (PostgreSQL, Redis, ChromaDB)
âœ¨ Configuration robuste avec hÃ©ritage de variables
âœ¨ Documentation exhaustive
âœ¨ Scripts de dÃ©marrage automatisÃ©s
âœ¨ PrÃªt pour dÃ©veloppement et dÃ©ploiement

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                   â•‘
â•‘   ğŸš€ KAURI EST PRÃŠT Ã€ ÃŠTRE LANCÃ‰ !                               â•‘
â•‘                                                                   â•‘
â•‘   Commande: ./start.sh (ou start.bat sur Windows)                â•‘
â•‘                                                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
